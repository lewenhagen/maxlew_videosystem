{% include 'header.html' %}
<div class="small_logo">
    <img src="{{ url_for('static',filename='img/maxlew_logo.svg') }}" alt="logo">
</div>
<div class="nes-container is-rounded" style="width: 50%; margin: 0 auto;margin-top: 10%">
    {% if action == "menu" %}
        <h1>Admin menu</h1>
        <ul class="nes-list">
            <li>1. Check current ip adresses</li>
            <li>2. Run ip check</li>
            <li>3. Run config</li>
            <li>4. Check config file</li>
        </ul>
    {% elif action == "check" %}
        <h3>Found {{ data|length }} cameras.</h3>
        <p>{{ data }}</p>
    {% elif action == "ipcheck" %}
        {{ data }}
    {% elif action == "checkconfig" %}
        {% for d in data %}
        <p>{{ d }}</p>
        {% endfor %}
    {% endif %}

</div>
<script>
    document.addEventListener("keydown", function(event) {
        let key = event.key;

        switch(key) {
            case "1":
                window.location.replace("/admin/check");
                break;
            case "2":
                let el = document.getElementsByClassName("nes-container")[0];
                el.innerHTML += `
                <form class="selectform" method="GET" action="/admin-search">
                    <label for="name_field">Manufacturer?</label>
                    <input type="text" autofocus id="name_field" name="search" class="nes-input">
                    <input type="submit" hidden>
                    </form>
                `;
                // window.location.replace("/admin/ipcheck");
                break;
            case "3":
                window.location.replace("/admin-config");
                break;
            case "4":
                window.location.replace("/admin/checkconfig");
                break;
            case "+":
                window.location.replace("/0");
                break;
            case "-":
                window.location.replace("/admin/menu");
                break;

        }
    })
</script>

{% include 'footer.html' %}
